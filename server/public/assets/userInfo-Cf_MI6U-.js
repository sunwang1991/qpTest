import{d as k,r as E,i as c,o as N,w as a,f as l,E as v,p as u,q as y,k as C,ck as R,aB as U,aC as q}from"./index-G7k4jObO.js";import{E as w,a as B}from"./el-form-item-BuGiXd-d.js";import{E as I,b as $}from"./el-radio-D3_6fv-a.js";import{j}from"./user-WxlmjGaf.js";import"./_baseClone-BzXbRH51.js";const O={__name:"userInfo",props:{user:{type:Object}},setup(t){const f=t,{proxy:s}=k(),p=E({nickName:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!1,message:"邮箱地址不能为空",trigger:"blur"},{pattern:q,message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{required:!1,message:"手机号码不能为空",trigger:"blur"},{pattern:U,message:"请输入正确的手机号码",trigger:"blur"}]});function g(){s.$refs.userRef.validate(d=>{if(d){const e=R(f.user);j({nickName:e.nickName,email:e.email,phone:e.phone,sex:e.sex,avatar:e.avatar}).then(n=>{s.$modal.msgSuccess("修改成功")})}})}function b(){s.$tab.closePage()}return(d,e)=>{const n=v,r=w,m=$,x=I,i=y,V=B;return N(),c(V,{ref:"userRef",model:t.user,rules:C(p),"label-width":"80px"},{default:a(()=>[l(r,{label:"用户昵称",prop:"nickName"},{default:a(()=>[l(n,{modelValue:t.user.nickName,"onUpdate:modelValue":e[0]||(e[0]=o=>t.user.nickName=o),maxlength:"30"},null,8,["modelValue"])]),_:1}),l(r,{label:"手机号码",prop:"phone"},{default:a(()=>[l(n,{modelValue:t.user.phone,"onUpdate:modelValue":e[1]||(e[1]=o=>t.user.phone=o),maxlength:"11"},null,8,["modelValue"])]),_:1}),l(r,{label:"邮箱",prop:"email"},{default:a(()=>[l(n,{modelValue:t.user.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t.user.email=o),maxlength:"50"},null,8,["modelValue"])]),_:1}),l(r,{label:"性别"},{default:a(()=>[l(x,{modelValue:t.user.sex,"onUpdate:modelValue":e[3]||(e[3]=o=>t.user.sex=o)},{default:a(()=>[l(m,{value:"0"},{default:a(()=>e[4]||(e[4]=[u("未选择")])),_:1}),l(m,{value:"1"},{default:a(()=>e[5]||(e[5]=[u("男")])),_:1}),l(m,{value:"2"},{default:a(()=>e[6]||(e[6]=[u("女")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,null,{default:a(()=>[l(i,{type:"primary",onClick:g},{default:a(()=>e[7]||(e[7]=[u("保存")])),_:1}),l(i,{type:"danger",onClick:b},{default:a(()=>e[8]||(e[8]=[u("关闭")])),_:1})]),_:1})]),_:1},8,["model","rules"])}}};export{O as default};
