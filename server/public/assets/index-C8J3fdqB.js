import{d as G,r as i,e as w,c as J,o as b,f as e,w as a,K as D,i as B,k as o,q as M,L as O,h as p,p as R,E as P}from"./index-G7k4jObO.js";/* empty css                   */import{a as Q,E as U}from"./el-form-item-BuGiXd-d.js";import{E as W}from"./el-row-ErebF3jE.js";import{E as X}from"./el-col-B8uK4B1i.js";import{E as Y}from"./el-card-BcY2PItb.js";import{E as Z,a as ee}from"./el-table-column-DdgShedu.js";import"./el-checkbox-BDHvdtX6.js";import{l as te,a as ae,c as le,b as oe,g as ne,d as se}from"./cache-DTirGFkM.js";import"./_baseClone-BzXbRH51.js";const ie={class:"app-container"},ce={style:{float:"right",padding:"3px 0"}},Ce={__name:"index",setup(re){const{proxy:d}=G(),k=i([]),x=i([]),n=i({}),f=i(!0),_=i(!1),u=i(""),N=i(window.innerHeight-200);function E(){f.value=!0,te().then(l=>{k.value=l.data,f.value=!1})}function S(){E(),d.$modal.msgSuccess("刷新缓存列表成功")}function F(l){le(l.cacheName).then(t=>{d.$modal.msgSuccess("清理缓存名称["+l.cacheName+"]成功"),h(),n.value={}})}function h(l={}){const t=l.cacheName||u.value;t&&(_.value=!0,ae(t).then(g=>{x.value=g.data,_.value=!1,u.value=t}))}function I(){h(),d.$modal.msgSuccess("刷新键名列表成功")}function L(l){se(u.value,l).then(t=>{d.$modal.msgSuccess("清理缓存键名["+l+"]成功"),h(),n.value={}})}function T(l){ne(u.value,l.cacheKey).then(t=>{n.value=t.data})}function A(){oe().then(l=>{d.$modal.msgSuccess("清理全部缓存成功")})}return E(),(l,t)=>{const g=w("Collection"),m=M,s=ee,K=Z,v=Y,c=X,H=w("Key"),q=w("Document"),y=P,C=U,$=W,j=Q,V=O;return b(),J("div",ie,[e($,{gutter:10},{default:a(()=>[e(c,{lg:8,md:8,xs:24},{default:a(()=>[e(v,{style:{height:"calc(100vh - 125px)"}},{header:a(()=>[e(g,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),t[5]||(t[5]=p("span",{style:{"vertical-align":"middle"}},"缓存列表",-1)),p("div",ce,[e(m,{link:"",type:"primary",icon:"Refresh",onClick:t[0]||(t[0]=r=>S())},{default:a(()=>t[3]||(t[3]=[R(" 刷新 ")])),_:1}),e(m,{link:"",type:"primary",icon:"Delete",onClick:t[1]||(t[1]=r=>A())},{default:a(()=>t[4]||(t[4]=[R(" 安全清理 ")])),_:1})])]),default:a(()=>[D((b(),B(K,{data:o(k),height:o(N),"highlight-current-row":"",onRowClick:h,style:{width:"100%"}},{default:a(()=>[e(s,{label:"序号",width:"60",type:"index"}),e(s,{label:"缓存名称",align:"left",prop:"cacheName","show-overflow-tooltip":!0}),e(s,{label:"备注",align:"left",prop:"remark","show-overflow-tooltip":!0}),e(s,{label:"操作",width:"60",align:"left","class-name":"small-padding fixed-width"},{default:a(r=>[e(m,{link:"",type:"primary",icon:"Delete",onClick:z=>F(r.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[V,o(f)]])]),_:1})]),_:1}),e(c,{lg:8,md:8,xs:24},{default:a(()=>[e(v,{style:{height:"calc(100vh - 125px)"}},{header:a(()=>[e(H,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),t[6]||(t[6]=p("span",{style:{"vertical-align":"middle"}},"键名列表",-1)),e(m,{style:{float:"right",padding:"3px 0"},link:"",type:"primary",icon:"Refresh",onClick:t[2]||(t[2]=r=>I())})]),default:a(()=>[D((b(),B(K,{data:o(x),height:o(N),"highlight-current-row":"",onRowClick:T,style:{width:"100%"}},{default:a(()=>[e(s,{label:"序号",width:"60",type:"index"}),e(s,{label:"缓存键名",align:"left",prop:"cacheKey","show-overflow-tooltip":!0}),e(s,{label:"操作",width:"60",align:"left","class-name":"small-padding fixed-width"},{default:a(r=>[e(m,{link:"",type:"primary",icon:"Delete",onClick:z=>L(r.row.cacheKey)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[V,o(_)]])]),_:1})]),_:1}),e(c,{lg:8,md:8,xs:24},{default:a(()=>[e(v,{bordered:!1,style:{height:"calc(100vh - 125px)"}},{header:a(()=>[e(q,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),t[7]||(t[7]=p("span",{style:{"vertical-align":"middle"}},"缓存内容",-1))]),default:a(()=>[e(j,{model:o(n)},{default:a(()=>[e($,{gutter:32},{default:a(()=>[e(c,{offset:1,span:22},{default:a(()=>[e(C,{label:"缓存名称:",prop:"cacheName"},{default:a(()=>[e(y,{value:o(n).cacheName,disabled:!0},null,8,["value"])]),_:1})]),_:1}),e(c,{offset:1,span:22},{default:a(()=>[e(C,{label:"缓存键名:",prop:"cacheKey"},{default:a(()=>[e(y,{value:o(n).cacheKey,disabled:!0},null,8,["value"])]),_:1})]),_:1}),e(c,{offset:1,span:22},{default:a(()=>[e(C,{label:"缓存内容:",prop:"cacheValue"},{default:a(()=>[e(y,{value:o(n).cacheValue,type:"textarea",rows:16,disabled:!0},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}};export{Ce as default};
