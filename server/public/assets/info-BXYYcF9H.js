import{M as E,r as T,d as U,e as y,c as o,o as c,f as d,w as n,h as l,j as i,k as t,t as a,S as p,T as k,ag as V}from"./index-koRf1amC.js";import{E as $}from"./el-row-VKr6Yz4y.js";import{E as z}from"./el-col-BsYUv868.js";import{E as B}from"./el-card-bhReEPii.js";function D(){return E({url:"/monitor/system",method:"get"})}const I={class:"app-container"},N={class:"el-table el-table--enable-row-hover el-table--medium"},S={cellspacing:"0",style:{width:"100%"}},L={class:"el-table__cell is-leaf"},A={key:0,class:"cell"},P={class:"el-table__cell is-leaf"},H={key:0,class:"cell"},O={class:"el-table__cell is-leaf"},R={key:0,class:"cell"},q={class:"el-table__cell is-leaf"},G={key:0,class:"cell"},J={class:"el-table el-table--enable-row-hover el-table--medium"},K={cellspacing:"0",style:{width:"100%"}},Q={class:"el-table__cell is-leaf"},W={key:0,class:"cell"},X={class:"el-table__cell is-leaf"},Y={key:0,class:"cell"},Z={class:"el-table__cell is-leaf"},F={key:0,class:"cell"},ll={class:"el-table__cell is-leaf"},el={key:0,class:"cell"},sl={class:"el-table__cell is-leaf"},tl={key:0,class:"cell"},al={class:"el-table__cell is-leaf"},ol={key:0,class:"cell"},cl={class:"el-table__cell is-leaf"},il={key:0,class:"cell"},dl={class:"el-table__cell is-leaf"},nl={key:0,class:"cell"},_l={class:"el-table__cell is-leaf"},rl={key:0,class:"cell"},ml={class:"el-table__cell is-leaf"},ul={key:0,class:"cell"},fl={class:"el-table__cell is-leaf"},bl={key:0,class:"cell"},yl={class:"el-table__cell is-leaf"},gl={key:0,class:"cell"},hl={class:"el-table__cell is-leaf"},vl={key:0,class:"cell"},pl={class:"el-table__cell is-leaf"},kl={key:0,class:"cell"},wl={class:"el-table el-table--enable-row-hover el-table--medium"},xl={cellspacing:"0",style:{width:"100%"}},Cl={class:"el-table__cell is-leaf"},jl={key:0,class:"cell"},Ml={class:"el-table__cell is-leaf"},El={key:0,class:"cell"},Tl={class:"el-table__cell is-leaf"},Ul={key:0,class:"cell"},Vl={class:"el-table__cell is-leaf"},$l={key:0,class:"cell"},zl={class:"el-table el-table--enable-row-hover el-table--medium"},Bl={cellspacing:"0",style:{width:"100%"}},Dl={class:"el-table__cell is-leaf"},Il={key:0,class:"cell"},Nl={class:"el-table__cell is-leaf"},Sl={key:0,class:"cell"},Ll={class:"el-table__cell is-leaf"},Al={key:0,class:"cell"},Pl={class:"el-table__cell is-leaf"},Hl={key:0,class:"cell"},Ol={class:"el-table__cell is-leaf"},Rl={key:0,class:"cell"},ql={class:"el-table__cell is-leaf"},Gl={key:0,class:"cell"},Jl={class:"el-table__cell is-leaf"},Kl={key:0,class:"cell"},Ql={class:"el-table el-table--enable-row-hover el-table--medium"},Wl={cellspacing:"0",style:{width:"100%"}},Xl={class:"el-table__cell is-leaf"},Yl={key:0,class:"cell"},Zl={class:"el-table__cell is-leaf"},Fl={key:0,class:"cell"},le={class:"el-table__cell is-leaf"},ee={key:0,class:"cell"},se={class:"el-table el-table--enable-row-hover el-table--medium"},te={cellspacing:"0",style:{width:"100%"}},ae={class:"el-table__cell is-leaf"},oe={class:"cell"},ce={class:"el-table__cell is-leaf"},ie={class:"cell"},de={class:"el-table el-table--enable-row-hover el-table--medium"},ne={cellspacing:"0",style:{width:"100%"}},_e={key:0},re={class:"el-table__cell is-leaf"},me={class:"cell"},ue={class:"el-table__cell is-leaf"},fe={class:"cell"},be={class:"el-table__cell is-leaf"},ye={class:"cell"},ge={class:"el-table__cell is-leaf"},he={class:"cell"},ve={class:"el-table__cell is-leaf"},je={__name:"info",setup(pe){const s=T([]),{proxy:h}=U();function v(_){if(typeof _=="string")return _;if(_<=0)return"-";let e=Math.floor(_/86400),u=Math.floor(_%86400/3600),r=Math.floor(_%3600/60),m=_%60,b=[];return e!==0&&b.push(`${e}天`),u!==0&&b.push(`${u}小时`),r!==0&&b.push(`${r}分钟`),b.push(`${m}秒`),b.join(" ")}function w(){h.$modal.loading("正在加载服务监控数据，请稍候！"),D().then(_=>{s.value=_.data;let e=_.data.cpu;e.coreUsed=e.coreUsed.map(u=>u).join(" / "),s.value.cpu=e,h.$modal.closeLoading()})}return w(),(_,e)=>{const u=y("Monitor"),r=B,m=z,b=y("CoffeeCup"),x=y("Cpu"),C=y("Tickets"),j=y("MessageBox"),M=$;return c(),o("div",I,[d(M,null,{default:n(()=>[d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(u,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[0]||(e[0]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," 项目信息 ",-1))]),default:n(()=>[l("div",N,[l("table",S,[l("tbody",null,[l("tr",null,[e[1]||(e[1]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"项目名称")],-1)),l("td",L,[t(s).project?(c(),o("div",A,a(t(s).project.name),1)):i("",!0)]),e[2]||(e[2]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"项目版本")],-1)),l("td",P,[t(s).project?(c(),o("div",H,a(t(s).project.version),1)):i("",!0)])]),l("tr",null,[e[3]||(e[3]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"项目环境")],-1)),l("td",O,[t(s).project?(c(),o("div",R,a(t(s).project.env),1)):i("",!0)]),e[4]||(e[4]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"项目路径")],-1)),l("td",q,[t(s).project?(c(),o("div",G,a(t(s).project.appDir),1)):i("",!0)])])])])])]),_:1})]),_:1}),d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(b,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[5]||(e[5]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," 系统信息 ",-1))]),default:n(()=>[l("div",J,[l("table",K,[l("tbody",null,[l("tr",null,[e[6]||(e[6]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"系统平台")],-1)),l("td",Q,[t(s).system?(c(),o("div",W,a(t(s).system.platform),1)):i("",!0)]),e[7]||(e[7]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"平台版本")],-1)),l("td",X,[t(s).system?(c(),o("div",Y,a(t(s).system.platformVersion),1)):i("",!0)]),e[8]||(e[8]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"系统OS")],-1)),l("td",Z,[t(s).system?(c(),o("div",F,a(t(s).system.os),1)):i("",!0)])]),l("tr",null,[e[9]||(e[9]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"系统架构")],-1)),l("td",ll,[t(s).system?(c(),o("div",el,a(t(s).system.arch),1)):i("",!0)]),e[10]||(e[10]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"架构版本")],-1)),l("td",sl,[t(s).system?(c(),o("div",tl,a(t(s).system.archVersion),1)):i("",!0)]),e[11]||(e[11]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"系统运行")],-1)),l("td",al,[t(s).system?(c(),o("div",ol,a(v(t(s).system.bootTime)),1)):i("",!0)])]),l("tr",null,[e[12]||(e[12]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"程序环境")],-1)),l("td",cl,[t(s).system?(c(),o("div",il,a(t(s).system.runVersion),1)):i("",!0)]),e[13]||(e[13]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"程序架构")],-1)),l("td",dl,[t(s).system?(c(),o("div",nl,a(t(s).system.runArch),1)):i("",!0)]),e[14]||(e[14]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"程序运行")],-1)),l("td",_l,[t(s).system?(c(),o("div",rl,a(v(t(s).system.runTime)),1)):i("",!0)])]),l("tr",null,[e[15]||(e[15]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"主机名称")],-1)),l("td",ml,[t(s).system?(c(),o("div",ul,a(t(s).system.hostname),1)):i("",!0)]),e[16]||(e[16]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"主机用户目录")],-1)),l("td",fl,[t(s).system?(c(),o("div",bl,a(t(s).system.homeDir),1)):i("",!0)]),e[17]||(e[17]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"程序PID")],-1)),l("td",yl,[t(s).system?(c(),o("div",gl,a(t(s).system.processId),1)):i("",!0)])])])]),l("div",hl,[e[18]||(e[18]=l("strong",{class:"cell"},"项目路径",-1)),t(s).system?(c(),o("div",vl,a(t(s).system.cmd),1)):i("",!0)]),l("div",pl,[e[19]||(e[19]=l("strong",{class:"cell"},"执行命令",-1)),t(s).system?(c(),o("div",kl,a(t(s).system.execCommand),1)):i("",!0)])])]),_:1})]),_:1}),d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(x,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[20]||(e[20]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," CPU信息 ",-1))]),default:n(()=>[l("div",wl,[l("table",xl,[l("tbody",null,[l("tr",null,[e[21]||(e[21]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"型号")],-1)),l("td",Cl,[t(s).cpu?(c(),o("div",jl,a(t(s).cpu.model),1)):i("",!0)])]),l("tr",null,[e[22]||(e[22]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"速率Hz")],-1)),l("td",Ml,[t(s).cpu?(c(),o("div",El,a(t(s).cpu.speed),1)):i("",!0)])]),l("tr",null,[e[23]||(e[23]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"核心数")],-1)),l("td",Tl,[t(s).cpu?(c(),o("div",Ul,a(t(s).cpu.core),1)):i("",!0)])]),l("tr",null,[e[24]||(e[24]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"使用率(%)")],-1)),l("td",Vl,[t(s).cpu?(c(),o("div",$l,a(t(s).cpu.coreUsed),1)):i("",!0)])])])])])]),_:1})]),_:1}),d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(C,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[25]||(e[25]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," 内存信息 ",-1))]),default:n(()=>[l("div",zl,[l("table",Bl,[l("tbody",null,[l("tr",null,[e[26]||(e[26]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"总内存")],-1)),l("td",Dl,[t(s).memory?(c(),o("div",Il,a(t(s).memory.totalmem),1)):i("",!0)]),e[27]||(e[27]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"剩余内存")],-1)),l("td",Nl,[t(s).memory?(c(),o("div",Sl,a(t(s).memory.freemem),1)):i("",!0)])]),l("tr",null,[e[28]||(e[28]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"使用率(%)")],-1)),l("td",Ll,[t(s).memory?(c(),o("div",Al,a(t(s).memory.usage),1)):i("",!0)]),e[29]||(e[29]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"进程总内存")],-1)),l("td",Pl,[t(s).memory?(c(),o("div",Hl,a(t(s).memory.rss),1)):i("",!0)])]),l("tr",null,[e[30]||(e[30]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"堆的总大小")],-1)),l("td",Ol,[t(s).memory?(c(),o("div",Rl,a(t(s).memory.heapTotal),1)):i("",!0)]),e[31]||(e[31]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"堆已分配")],-1)),l("td",ql,[t(s).memory?(c(),o("div",Gl,a(t(s).memory.heapUsed),1)):i("",!0)])]),l("tr",null,[e[32]||(e[32]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"链接库占用")],-1)),l("td",Jl,[t(s).memory?(c(),o("div",Kl,a(t(s).memory.external),1)):i("",!0)])])])])])]),_:1})]),_:1}),d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(u,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[33]||(e[33]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," 时间信息 ",-1))]),default:n(()=>[l("div",Ql,[l("table",Wl,[l("tbody",null,[l("tr",null,[e[34]||(e[34]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"时间")],-1)),l("td",Xl,[t(s).time?(c(),o("div",Yl,a(t(s).time.current),1)):i("",!0)]),e[35]||(e[35]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"时区")],-1)),l("td",Zl,[t(s).time?(c(),o("div",Fl,a(t(s).time.timezone),1)):i("",!0)]),e[36]||(e[36]=l("td",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"时区名称")],-1)),l("td",le,[t(s).time?(c(),o("div",ee,a(t(s).time.timezoneName),1)):i("",!0)])])])])])]),_:1})]),_:1}),d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(u,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[37]||(e[37]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," 网络信息 ",-1))]),default:n(()=>[l("div",se,[l("table",te,[l("tbody",null,[(c(!0),o(p,null,k(t(s).network,(f,g)=>(c(),o("tr",null,[l("td",ae,[l("strong",oe,a(g),1)]),l("td",ce,[l("div",ie,a(f),1)])]))),256))])])])]),_:1})]),_:1}),d(m,{span:24,class:"card-box"},{default:n(()=>[d(r,null,{header:n(()=>[d(j,{style:{width:"1em",height:"1em","vertical-align":"middle"}}),e[38]||(e[38]=l("strong",{style:{"vertical-align":"middle","margin-left":"4px"}}," 磁盘状态 ",-1))]),default:n(()=>[l("div",de,[l("table",ne,[e[39]||(e[39]=l("thead",null,[l("tr",null,[l("th",{class:"el-table__cell el-table__cell is-leaf"},[l("strong",{class:"cell"},"路径盘符")]),l("th",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"总大小")]),l("th",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"剩余大小")]),l("th",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"已使用大小")]),l("th",{class:"el-table__cell is-leaf"},[l("strong",{class:"cell"},"空间使用率")])])],-1)),t(s).disk?(c(),o("tbody",_e,[(c(!0),o(p,null,k(t(s).disk,(f,g)=>(c(),o("tr",{key:g},[l("td",re,[l("div",me,a(f.target),1)]),l("td",ue,[l("div",fe,a(f.size),1)]),l("td",be,[l("div",ye,a(f.avail),1)]),l("td",ge,[l("div",he,a(f.used),1)]),l("td",ve,[l("div",{class:V(["cell",{"text-danger":f.used>80}])},a(f.used)+"% ",3)])]))),128))])):i("",!0)])])]),_:1})]),_:1})]),_:1})])}}};export{je as default};
